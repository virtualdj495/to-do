{"ast":null,"code":"import { findIndex, find } from 'lodash';\nimport * as moment from 'moment';\nimport * as i0 from \"@angular/core\";\nexport let ObjectivesService = /*#__PURE__*/(() => {\n  class ObjectivesService {\n    constructor() {\n      this.listOfTasks = [];\n    }\n\n    addTasktoList(task) {\n      if (localStorage.getItem('list') !== '[]') {\n        this.listOfTasks = JSON.parse(String(localStorage.getItem('list')));\n        task.id = this.listOfTasks.length;\n      } else {\n        task.id = this.listOfTasks.length;\n      }\n\n      task.endDate = moment(task.endDate, \"YYYY-MM-DD h:mm:ss\").format(\"YYYY-MM-DD h:mm:ss\").toString();\n      task.state = true;\n      this.listOfTasks.push(task);\n      localStorage.setItem('list', JSON.stringify(this.listOfTasks));\n    }\n\n    getList() {\n      return this.listOfTasks;\n    }\n\n    switchState(task) {\n      this.listOfTasks = JSON.parse(String(localStorage.getItem('list')));\n      let aux = findIndex(this.listOfTasks, task);\n\n      if (this.listOfTasks[aux].state === true) {\n        task.state = false;\n        this.listOfTasks.splice(aux, 1);\n        this.listOfTasks.push(task);\n      } else {\n        task.state = true;\n        let find = findIndex(this.listOfTasks, task => task.state === false);\n        this.listOfTasks.splice(find, 0, task);\n        this.listOfTasks.splice(aux + 1, 1);\n      }\n\n      this.listOfTasks = [...this.listOfTasks];\n      localStorage.setItem('list', JSON.stringify(this.listOfTasks));\n    }\n\n    clearMemory() {\n      this.listOfTasks = [];\n    }\n\n    getTask(id) {\n      this.listOfTasks = JSON.parse(String(localStorage.getItem('list')));\n      this.taskDetails = find(this.listOfTasks, obj => obj.id === id);\n      return this.taskDetails;\n    }\n\n  }\n\n  ObjectivesService.ɵfac = function ObjectivesService_Factory(t) {\n    return new (t || ObjectivesService)();\n  };\n\n  ObjectivesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ObjectivesService,\n    factory: ObjectivesService.ɵfac,\n    providedIn: 'root'\n  });\n  return ObjectivesService;\n})();","map":null,"metadata":{},"sourceType":"module"}